<div class="form-container white-class" >
    <h1 mat-title>Create stage</h1>
    <form [formGroup]="stageForm">
        <mat-label>Stage name</mat-label>
        <mat-form-field appearance="fill"  [ngClass]="(stageFormControl.name.touched || submitted) && stageFormControl.name.invalid ? 'invalid-input' : ''">
            <input matInput type="text" autocomplete="off" formControlName="name" placeholder="Enter stage name">
          </mat-form-field>
          <mat-error *ngIf="(stageFormControl.name.touched || submitted) && stageFormControl.name.errors?.required">
            This field shouldn't be empty
        </mat-error>
        <mat-label>Type</mat-label>
      <mat-form-field appearance="fill" [ngClass]="(stageFormControl.type.touched || submitted) && stageFormControl.type.invalid ? 'invalid-input' : ''">
        <mat-select #fontSize placeholder="Select type" formControlName="type">
          <mat-option *ngFor="let type of types" [value]="type.type">{{type.name}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-error *ngIf="(stageFormControl.type.touched || submitted) && stageFormControl.type.errors?.required">
        This field shouldn't be empty
    </mat-error>
        <mat-label>Action</mat-label>
    <mat-form-field appearance="fill" [ngClass]="(stageFormControl.actions.touched || submitted) && stageFormControl.actions.invalid ? 'invalid-input' : ''">
        <mat-select #fontSize placeholder="Select action" formControlName="actions" multiple>
          <mat-option *ngFor="let action of actions" [value]="action.actionType">{{action.name}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-error *ngIf="(stageFormControl.actions.touched || submitted) && stageFormControl.actions.errors?.required">
        This field shouldn't be empty
      </mat-error>
      <mat-checkbox formControlName="isReviewable">Review required</mat-checkbox>
      <mat-label class="required-field">Rates</mat-label>
      <mat-form-field appearance="fill" [ngClass]="(stageFormControl.rates.touched || submitted) && stageFormControl.rates.invalid ? 'invalid-input' : ''">
        <mat-select #fontSize placeholder="Select rates" formControlName="rates">
            <mat-option >None</mat-option>
          <mat-option value="Communicative skills">Communicative skills</mat-option>
          <mat-option value="English">English</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-error *ngIf="(stageFormControl.rates.touched || submitted) && stageFormControl.rates.errors?.required">
        This field shouldn't be empty
    </mat-error>
    </form>
    <div class="buttons">
        <button mat-button mat-raised-button  (click)="onStageSave()" [disabled]="stageForm.invalid">Save</button>
        <!--<button mat-button mat-raised-button  (click)="onSaveAndAdd()" [disabled]="stageForm.invalid">Save and add another</button>-->
        <button mat-button class="mat-accent" (click)="onStageClose()">Cancel</button>
    </div>
</div>